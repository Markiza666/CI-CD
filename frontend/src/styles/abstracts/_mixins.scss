@use '../config/variables' as v;

@mixin button-base($background-color, $text-color) {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 0.25rem;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 600;
    text-decoration: none; // Important for button links (<a>)
    transition: background-color 0.2s ease, transform 0.1s;

    background-color: $background-color;
    color: $text-color;

    // Default hover/focus state
    &:hover,
    &:focus {
        background-color: darken($background-color, 10%); // Darken the color on hover
    }

    // Default active state
    &:active {
        transform: translateY(1px);
    }
}

// Add other useful mixins here, like responsive design mixins
@mixin media-tablet {
    @media (min-width: 768px) {
        @content;
    }
}

// AC: Truncates text after a specified number of lines and adds an ellipsis.
@mixin line-clamp($lines: 1) {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: $lines; // Number of lines to show

    // Fallback for browsers that don't support -webkit-line-clamp (e.g., Firefox)
    // You might choose to remove this fallback if you only target modern Chromium browsers.
    @supports not (-webkit-line-clamp: $lines) {
        max-height: 100% * $lines; // Rough height approximation (less reliable)
        text-overflow: ellipsis;
        white-space: nowrap;
    }
}

// AC: Handles media queries based on sizes defined in $media-breakpoints map.
@mixin breakpoint($size) {
    // Check if the key exists in the map
    @if map-has-key(v.$media-breakpoints, $size) {
        // Get the width from the map
        $breakpoint-value: map-get(v.$media-breakpoints, $size); 
        
        // Output the media query
        @media (min-width: $breakpoint-value) {
            @content; // Insert the content block passed to the mixin
        }
    } @else {
        // Error message if an unknown breakpoint is used
        @warn "Unknown breakpoint '#{$size}' used in @include breakpoint().";
    }
}

@mixin media-desktop {
    @media (min-width: 1024px) {
        @content;
    }
}
